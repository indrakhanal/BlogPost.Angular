<div class="container">
    <h1 class="mt-3">Blog Post List</h1>
    <div class="d-flex justify-content-end mt-3">
        <a [routerLink]="['/admin/blog-posts/add']" class="btn btn-primary">Add New Post</a>
    </div>
    <ng-container *ngIf="$blogPosts |async as blogPost">
    <table class="table table-bordered mt-4">
        <thead>
            <tr>
                <th class="text-center">Title</th>
                <th>
                    <span>
                        <span>
                            <button (click)="blogSort('Date', 'asc')" type="button" class="border-0 bg-light">
                                <i *ngIf="$sortValue === 'asc';else normalBtn" class="bi bi-sort-numeric-down custom-icon"></i>
                                <ng-template #normalBtn>
                                <i class="bi bi-sort-numeric-down"></i>
                                </ng-template>
                            </button>
                        </span>
                        Published Date
                        <span>
                            <button (click)="blogSort('Date', 'desc')" type="button" class="border-0 bg-light">
                                <i *ngIf="$sortValue === 'desc';else normalDescBtn" class="bi bi-sort-numeric-up-alt custom-icon"></i>
                                <ng-template #normalDescBtn>
                                    <i class="bi bi-sort-numeric-up-alt"></i>
                                </ng-template>
                            </button>
                        </span>
                    </span>
                </th>
                <th class="text-center">Short Description</th>
                <th class="text-center">Category</th>
                <th class="text-center" style="width: 100px;">Is Active</th>
                <th class="text-center">Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of blogPost">
            <td>{{item.title}}</td>
            <td style="width: 210px;" class="text-center">{{item.publishedDate | date:'yyy-MM-dd'}}</td>
            <td>{{item.shortDescription}}</td>
            <td>
                <span *ngFor="let a of item.categories">
                    <span class="badge bg-secondary me-1">{{a.name}}</span>
                </span>
            </td>
            <td>{{item.isVisible}}</td>
            <td>
                <button type="button" name="editPost" id="editPost" class="btn btn-light" [routerLink]="['/admin/blog-posts', item.id]"><i class="bi bi-pencil-square"></i></button>
            </td>
            </tr>
        </tbody>
    </table>    
    </ng-container>
</div>